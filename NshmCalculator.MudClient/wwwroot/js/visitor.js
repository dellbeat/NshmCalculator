!function(){"use strict";(t=>{const{screen:{width:e,height:a},navigator:{language:n},location:r,localStorage:i,document:c,history:o}=t,{hostname:s,pathname:u,search:l}=r,{currentScript:d}=c;if(!d)return;const m="data-",f=d.getAttribute.bind(d),p=f(m+"website-id"),h=f(m+"host-url"),y="false"!==f(m+"auto-track"),g="true"===f(m+"strip-search"),b=f(m+"domains")||"",v=b.split(",").map((t=>t.trim())),S=`${(h||""||d.src.split("/").slice(0,-1).join("/")).replace(/\/$/,"")}/api/send`,w=`${e}x${a}`,N=/data-umami-event-([\w-_]+)/,T=m+"umami-event",A=300,U=()=>({website:p,hostname:s,screen:w,language:n,title:K?encodeURIComponent(K):void 0,url:encodeURI(R),referrer:encodeURI(x)}),$=(t,e,a)=>{a&&(x=R,R=(t=>{try{return new URL(t).pathname}catch(e){return t}})(a.toString()),R!==x&&setTimeout(k,A))},O=()=>i&&i.getItem("umami.disabled")||b&&!v.includes(s),j=async(t,e="event")=>{if(O())return;const a={"Content-Type":"application/json"};void 0!==I&&(a["x-umami-cache"]=I);try{const n=await fetch(S,{method:"POST",body:JSON.stringify({type:e,payload:t}),headers:a}),r=await n.text();return I=r}catch{}},k=(t,e)=>j("string"==typeof t?{...U(),name:t,data:"object"==typeof e?e:void 0}:"object"==typeof t?t:"function"==typeof t?t(U()):U()),E=t=>j({...U(),data:t},"identify");t.umami||(t.umami={track:k,identify:E});let I,L,R=`${u}${g?"":l}`,x=c.referrer,K=c.title;if(y&&!O()){(()=>{const t=(t,e,a)=>{const n=t[e];return(...e)=>(a.apply(null,e),n.apply(t,e))};o.pushState=t(o,"pushState",$),o.replaceState=t(o,"replaceState",$)})(),(()=>{const t=new MutationObserver((([t])=>{K=t&&t.target?t.target.data:void 0})),e=c.querySelector("head > title");e&&t.observe(e,{subtree:!0,characterData:!0,childList:!0})})(),c.addEventListener("click",(async t=>{const e=t=>["BUTTON","A"].includes(t),a=async t=>{const e=t.getAttribute.bind(t),a=e(T);if(a){const n={};return t.getAttributeNames().forEach((t=>{const a=t.match(N);a&&(n[a[1]]=e(t))})),k(a,n)}},n=t.target,i=e(n.tagName)?n:((t,a)=>{let n=t;for(let t=0;t<a;t++){if(e(n.tagName))return n;if(n=n.parentElement,!n)return null}})(n,10);if(!i)return a(n);{const{href:e,target:n}=i,c=i.getAttribute(T);if(c)if("A"===i.tagName){const o="_blank"===n||t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1===t.button;if(c&&e)return o||t.preventDefault(),a(i).then((()=>{o||(r.href=e)}))}else if("BUTTON"===i.tagName)return a(i)}}),!0);const t=()=>{"complete"!==c.readyState||L||(k(),L=!0)};c.addEventListener("readystatechange",t,!0),t()}})(window)}();